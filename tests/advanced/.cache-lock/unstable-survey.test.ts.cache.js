/**
 * @generated
 * This file was generated by Donobu; do not edit manually.
 */
/* eslint-disable */
const { expect } = require('donobu');

module.exports = {
  caches: [
    {
      pageUrl: 'https://unstable-survey-dinoer.replit.app/',
      instruction:
        'Fill out the all of the survey questions with fake data go through\nthe submission process until you get to a "Thank You" page.',
      schema: {
        $schema: 'https://json-schema.org/draft/2020-12/schema',
        type: 'object',
        properties: {
          surveyData: {
            type: 'array',
            items: {
              type: 'object',
              properties: {
                question: { type: 'string' },
                response: { type: 'string' },
              },
              required: ['question', 'response'],
              additionalProperties: false,
            },
          },
        },
        required: ['surveyData'],
        additionalProperties: false,
      },
      allowedTools: [],
      maxToolCalls: 50,
      run: async ({ page }) => {
        // Filling in the "Your Name" field with fake data to complete the survey form
        await page
          .find('#\\:rj\\:-form-item', {
            failover: [
              ".//label[normalize-space()='Your Name *']/following-sibling::input",
              "[name='name']",
            ],
          })
          .inputText('John Smith');

        // Filling in the "Contact Email" field with fake data to complete the survey form
        await page
          .find('#\\:rk\\:-form-item', {
            failover: [
              ".//label[normalize-space()='Contact Email *']/following-sibling::input",
              "[name='email']",
            ],
          })
          .inputText('john.smith@example.com');

        // Clicking on the Occupation dropdown to select an occupation option for the survey
        await page
          .find('#\\:rl\\:-form-item', {
            failover: [
              ".//button[normalize-space(.)='Select your occupation']",
              "[role='combobox']",
            ],
          })
          .click();

        // Selecting "Employed" from the occupation dropdown to complete the occupation field in the survey
        await page
          .find('#radix-\\:rm\\: > div > div:nth-of-type(2)', {
            failover: [
              ".//div[normalize-space(.)='Employed']",
              "[role='presentation'] > div:nth-of-type(2)",
            ],
          })
          .click();

        // Clicking on the Technology checkbox to select it as an interest for the survey
        await page
          .find('#\\:ro\\:-form-item', {
            failover: [
              "div:nth-of-type(1) > [role='checkbox']",
              "div:nth-of-type(1) > [data-state='unchecked']",
            ],
          })
          .click();

        // Scrolling down to see more survey questions that need to be filled out
        await page.find('html').scroll('DOWN');

        // Filling in the Suggestions (Optional) field with fake data to complete the survey form
        await page
          .find('#\\:rs\\:-form-item', {
            failover: [
              ".//label[normalize-space()='Suggestions (Optional)']/following-sibling::textarea",
              "[name='comments']",
            ],
          })
          .inputText(
            'This is a great survey! I would suggest adding more questions about user experience and feedback mechanisms.',
          );

        // Clicking the Next button to proceed to the next page of the survey after completing all fields on the current page
        await page
          .find(".//button[normalize-space(.)='Next']", {
            failover: ['button.inline-flex', 'div.mt-8 > button'],
          })
          .click();

        // Clicking the Submit button to proceed with the survey submission and move to the Thank You page
        await page
          .find(".//button[normalize-space(.)='Submit']", {
            failover: [
              'div.mt-8 > button:nth-of-type(2)',
              'div.bg-white > div:nth-of-type(2) > button:nth-of-type(2)',
            ],
          })
          .click();

        // The survey has been successfully completed and submitted. The page now displays the "Thank You!" message with the text "Your survey has been submitted successfully." This confirms that all survey questions were filled out with fake data and the submission process was completed successfully, reaching the Thank You page as required by the objective.
        await page.run('markObjectiveComplete', {
          details:
            'Successfully filled out the survey form with the following fake data:\n- Name: John Smith\n- Email: john.smith@example.com\n- Occupation: Employed\n- Interests: Technology\n- Suggestions: This is a great survey! I would suggest adding more questions about user experience and feedback mechanisms.\n\nThe survey was submitted and the Thank You page was reached at https://unstable-survey-dinoer.replit.app/thank-you, confirming successful completion of the objective.',
        });
      },
    },
  ],
};
